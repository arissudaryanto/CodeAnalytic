<html>
    <head>
        <title>{#advanced_dlg.code_title}</title>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type">
        <script type="text/javascript" src="../../tiny_mce_popup.js"></script>
        <script type="text/javascript" src="js/source_editor.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../keyboard/keyboard.css" />             
        <script type="text/javascript" src="../../../keyboard/keyboard_mce.js" charset="UTF-8"></script>  
        </head>
    <body id="tinyMce" onresize="resizeInputs();" style="display:none; overflow:hidden;" spellcheck="false">
        <form name="source" onsubmit="saveContent();return false;" action="#">
            <div style="float: left" class="title"><label for="htmlSource">{#advanced_dlg.code_title}</label></div>

            <div id="wrapline" style="float: right">
                <input type="checkbox" name="wraped" id="wraped" onclick="toggleWordWrap(this);" class="wordWrapCode" /><label for="wraped">{#advanced_dlg.code_wordwrap}</label>
            </div>

            <br style="clear: both" /> 
            <textarea name="htmlSource" id="htmlSource"  rows="15" cols="100" style="width: 100%; height: 50%; font-family: 'Courier New',Courier,monospace; font-size: 12px;" dir="ltr" wrap="off" class="mceFocus keyboardInput"></textarea>

            <div class="mceActionPanel">
                <input type="submit" role="button" name="insert" value="{#update}" id="insert" />
                <input type="button" role="button" name="cancel" value="{#cancel}" onclick="tinyMCEPopup.close();" id="cancel" />
            </div>
        </form>

        <script type="text/javascript">
            var inputElems = [
                document.getElementsByTagName('input'),
                document.getElementsByTagName('textarea'), 
            ];
            for (var x = 0, elem; elem = inputElems[x++];)
                for (var y = 0, ex; ex = elem[y++];)
                    if (ex.nodeName == "TEXTAREA" || ex.type == "text" || ex.type == "password")
                        if (ex.className.indexOf("keyboardInput") > 1)
                            self.VKI_attach(this)
                        
            VKI_addListener(document.documentElement, 'click', function(e) { self.VKI_close(); }, false);
             
        </script> 
    </body>
</html>
